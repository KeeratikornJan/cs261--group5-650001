<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
</head>

<body>
    <header></header>
    <nav class="navbar">
        <div class="navdiv">
            <div class="logo"><a href="#">TU EVENT</a> </div>
            <ul>
                <li class="navbutton"><a href="#">‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a></li>
                <li class="navbutton">
                    <a href="#">‡∏≠‡∏µ‡πÄ‡∏ß‡πâ‡∏ô‡∏ó‡πå<i class="material-icons">keyboard_arrow_down</i></a>
                    <ul class="dropdown">
                        <a>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏≠‡∏µ‡πÄ‡∏ß‡πâ‡∏ô‡∏ó‡πå</a>
                        <div class="dropdown_item">
                            <li><a href="#">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</a></li>
                            <li><a href="#">‡∏Ñ‡πà‡∏≤‡∏¢</a></li>
                            <li><a href="#">‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</a></li>
                            <li><a href="#">‡∏î‡∏ô‡∏ï‡∏£‡∏µ</a></li>
                        </div>
                    </ul>
                </li>
                <li class="navbutton"><a href="#">‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î<i class="material-icons">keyboard_arrow_down</i></a></li>
            </ul>
            <button><a href="#">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö/‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</a></button>
        </div>
    </nav>
	
	<!--‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÅ‡∏•‡∏∞‡πÅ‡∏Å‡πâ‡πÇ‡∏Ñ‡πâ‡∏î ‡πÄ‡∏û‡∏∑‡πà‡∏≠ Handle Empty & Error State ‡∏ï‡∏≤‡∏° task5:US1-->
	<!-- ‚úÖ ‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô -->
	<div id="message-box"></div>
	
	<!-- ‚úÖ ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏° -->
	<div id="list"></div>
	
	// ‡πÉ‡∏™‡πà‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á 
	<script>
	    async function load() {
	      const listDiv = document.getElementById('list');
	      const msgBox = document.getElementById('message-box');

	      try {
	        const res = await fetch('/api/events?page=0&limit=12&sort=startDate&dir=asc');

	        // ‚ö†Ô∏è ‡∏ñ‡πâ‡∏≤ server ‡∏ï‡∏≠‡∏ö error (500, 404, ‡∏Ø‡∏•‡∏Ø)
	        if (!res.ok) {
	          const errorData = await res.json();
	          msgBox.innerHTML = `<p class="error">‚ö†Ô∏è ${errorData.error || '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡∏à‡∏≤‡∏Å‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á'}</p>`;
	          return;
	        }

	        const page = await res.json();

	        // üí§ ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°
	        if (page.message) {
	          msgBox.innerHTML = `<p class="empty">üí§ ${page.message}</p>`;
	          return;
	        }

	        // ‚úÖ ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
	        if (page.content && page.content.length > 0) {
	          listDiv.innerHTML = page.content.map(ev => `
	            <article>
	              <img src="${ev.imageUrl || '/Resourse/Poster/Header.png'}" alt="${ev.title}">
	              <h3>${ev.title ?? '-'}</h3>
	              <p>${ev.location ?? '-'}</p>
	              <a href="/event-detail.html?id=${ev.id}">‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</a>
	            </article>
	          `).join('');
	        } else {
	          msgBox.innerHTML = `<p class="empty">üí§ ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</p>`;
	        }

	      } catch (err) {
	        // üö´ ‡∏ñ‡πâ‡∏≤‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ API ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ (server ‡∏•‡πà‡∏° / fetch fail)
	        msgBox.innerHTML = `<p class="error">üö´ ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡πÑ‡∏î‡πâ</p>`;
	      }
	    }

	    // ‚úÖ ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏™‡∏£‡πá‡∏à
	    document.addEventListener('DOMContentLoaded', load);
	  </script>
	 


</body>



</html>

